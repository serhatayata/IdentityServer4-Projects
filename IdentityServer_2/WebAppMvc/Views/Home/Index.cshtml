@using Microsoft.AspNetCore.Authentication;

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h2>Claims</h2>
    <br /><br />
    <p>Access Token : @ViewBag.AccessToken</p>
    <br />
    <div>
        @foreach (var claim in User.Claims)
        {
            <p>@claim.Type</p>
            <p>@claim.Value</p>
            <br /><hr /><br />
        }
    </div>
    
    <h2>Properties</h2>

    <div>
        @foreach (var property in (await Context?.AuthenticateAsync())?.Properties?.Items ?? new Dictionary<string,string?>())
        {
            <p>@property.Key</p>
            <p>@property.Value</p>
            <br /><hr /><br />
        }
    </div>
    <a asp-controller="Home" asp-action="Logout" class="btn btn-lg btn-primary">
        Sign Out
    </a>
</div>
